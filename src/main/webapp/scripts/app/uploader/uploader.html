<div flow-init="{ target: uploaderTarget() }"
	flow-files-submitted="$flow.upload()"
	flow-file-progress="fileProgress($flow)"
	flow-file-success="fileSuccess($flow, $file, $message)"
	flow-prevent-drop>

	<div class="row">
		<div class="col-md-8 col-md-offset-2">
			<h2>Upload</h2>

			<div ng-hide="isUploaded()" ng-cloak>
				<div ng-hide="$flow.files[0].isUploading()" ng-cloak>
					<button class="btn btn-primary" flow-btn>Upload File</button>
				</div>

				<div ng-if="flow != null && flow.files.length > 0">
					<div class="progress"ng-class"{active:$flow.files[0].isUploading()}">
						<div class="progress-bar progress-bar-striped"
							ng-class="(flow.files[0].isComplete() == true) ? 'progress-bar-success' : 'progress-bar-info'"
							role="progressbar" aria-valuenow="0" aria-valuemin="0"
							aria-valuemax="100" style="min-width: 2em;"
							ng-style="{'width' : (flow.files[0].sizeUploaded() / flow.files[0].size * 100) + '%'}">{{flow.files[0].sizeUploaded()
							/ flow.files[0].size * 100 | number:0}}%</div>
					</div>
				</div>
			</div>


			<div ng-show="isUploaded()">
				<div>
					<span>Original File: {{upload.originalName}}</span>
				</div>
				<div>
					<span>File Size: {{upload.totalSize}}</span>
				</div>
				<div>
					<span>MD5 Sum: {{upload.md5sum}}</span>
				</div>
				<br>
				<div>
					<span><button class="btn btn-danger" ng-click="remove()"></span>Cancel
					Upload
					</button>
					</span>
				</div>
			</div>
		</div>
	</div>
</div>
